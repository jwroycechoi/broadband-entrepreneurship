Database Inspect and Merge
================
Jaewon Royce Choi
6/11/2020

# Broadband and Entrepreneurship

This document lays out the data handling process of multiple databases
related to broadband availability, speed, and entrepreneurship of Texas.
Databases used here are as follows:

  - Microsoft Broadband Availability Dataset
  - Measurement Lab (M-Lab) Datasets Exported via Google BigQuery
  - GoDaddy Venture Density & Demographic Dataset
  - Texas Sole Proprietors Data
  - IRR Rural Index

In the following sections, I will import, clean, and set up the
aforementioned datasets to be joined by *county*.

Install and call packages used for the folloiwng process.

``` r
rm(list = ls())   ## Clear the workspace
setwd("~/Dropbox/Works/Broadband-Entrepreneurship/Broadband Data")    ## Set working directory

#install.packages("tidyverse")
#install.packages("ggplot2")
#install.packages("DBI")
#devtools::install_github("rstats-db/bigrquery")
library(tidyverse)
```

    ## ── Attaching packages ──────────────────────────────────────────────────────────────────────────────────────── tidyverse 1.2.1 ──

    ## ✓ ggplot2 3.1.0     ✓ purrr   0.3.0
    ## ✓ tibble  3.0.1     ✓ dplyr   0.8.3
    ## ✓ tidyr   0.8.2     ✓ stringr 1.4.0
    ## ✓ readr   1.3.1     ✓ forcats 0.4.0

    ## ── Conflicts ─────────────────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(ggplot2)
library(DBI)
```

-----

## Microsoft Broadband Availability Dataset

Microsoft dataset is available in its [GitHub
repository](https://github.com/microsoft/USBroadbandUsagePercentages).
Therefore, we will directly import its dataset from the URL.

``` r
## Import the Dataset
ms_broadband <- read.csv("https://raw.githubusercontent.com/microsoft/USBroadbandUsagePercentages/master/dataset/broadband_data.csv", header = T)

## Inspect Structure
str(ms_broadband)
```

    ## 'data.frame':    3143 obs. of  5 variables:
    ##  $ ST                            : Factor w/ 51 levels "AK","AL","AR",..: 2 2 2 2 2 2 2 2 2 2 ...
    ##  $ COUNTY.ID                     : int  1001 1003 1005 1007 1009 1011 1013 1015 1017 1019 ...
    ##  $ COUNTY.NAME                   : Factor w/ 1878 levels "Abbeville County",..: 83 90 101 151 166 227 237 250 298 320 ...
    ##  $ BROADBAND.AVAILABILITY.PER.FCC: Factor w/ 102 levels " -   "," 0.00 ",..: 83 90 61 31 71 8 80 95 84 101 ...
    ##  $ BROADBAND.USAGE               : Factor w/ 95 levels " -   "," 0.01 ",..: 29 31 19 8 10 6 12 33 35 11 ...

Note that the percentage variables are imported as factors. We need them
to be in the form of integers. Converting factors directly to numeric
vectors using `as.numeric()` would result in loss of information.
Following the methods suggested
[here](https://stackoverflow.com/a/3418192/11199930), the code below
converts `BROADBAND.AVAILABILITY.PER.FCC` and `BROADBAND.USAGE` to
numeric values.

``` r
## Create new variabes in numeric form
ms_broadband <- ms_broadband %>% 
  mutate(pct_broadband_FCC = as.numeric(levels(BROADBAND.AVAILABILITY.PER.FCC))[BROADBAND.AVAILABILITY.PER.FCC],
         pct_broadband_MS = as.numeric(levels(BROADBAND.USAGE))[BROADBAND.USAGE])
```

    ## Warning: NAs introduced by coercion
    
    ## Warning: NAs introduced by coercion

``` r
## Confirm the change
str(ms_broadband)
```

    ## 'data.frame':    3143 obs. of  7 variables:
    ##  $ ST                            : Factor w/ 51 levels "AK","AL","AR",..: 2 2 2 2 2 2 2 2 2 2 ...
    ##  $ COUNTY.ID                     : int  1001 1003 1005 1007 1009 1011 1013 1015 1017 1019 ...
    ##  $ COUNTY.NAME                   : Factor w/ 1878 levels "Abbeville County",..: 83 90 101 151 166 227 237 250 298 320 ...
    ##  $ BROADBAND.AVAILABILITY.PER.FCC: Factor w/ 102 levels " -   "," 0.00 ",..: 83 90 61 31 71 8 80 95 84 101 ...
    ##  $ BROADBAND.USAGE               : Factor w/ 95 levels " -   "," 0.01 ",..: 29 31 19 8 10 6 12 33 35 11 ...
    ##  $ pct_broadband_FCC             : num  0.81 0.88 0.59 0.29 0.69 0.06 0.78 0.93 0.82 0.99 ...
    ##  $ pct_broadband_MS              : num  0.28 0.3 0.18 0.07 0.09 0.05 0.11 0.32 0.34 0.1 ...

Next step is to filter out information on the states other than Texas

``` r
## Filtering TX
ms_broadband_tx <- ms_broadband %>% 
  filter(ST == "TX") %>% droplevels() # Deletes unused levels in factor variables in a dataset

## Inspect the result
str(ms_broadband_tx)
```

    ## 'data.frame':    254 obs. of  7 variables:
    ##  $ ST                            : Factor w/ 1 level "TX": 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ COUNTY.ID                     : int  48001 48003 48005 48007 48009 48011 48013 48015 48017 48019 ...
    ##  $ COUNTY.NAME                   : Factor w/ 254 levels "Anderson County",..: 1 2 3 4 5 6 7 8 9 10 ...
    ##  $ BROADBAND.AVAILABILITY.PER.FCC: Factor w/ 81 levels " -   "," 0.00 ",..: 37 65 66 81 69 38 75 38 56 23 ...
    ##  $ BROADBAND.USAGE               : Factor w/ 64 levels " 0.01 "," 0.02 ",..: 12 38 26 29 24 10 12 14 9 34 ...
    ##  $ pct_broadband_FCC             : num  0.52 0.83 0.85 1 0.88 0.53 0.94 0.53 0.74 0.34 ...
    ##  $ pct_broadband_MS              : num  0.12 0.4 0.26 0.3 0.24 0.1 0.12 0.14 0.09 0.35 ...

## GoDaddy Dataset

The GoDaddy dataset has been used by researchers (Mossberger, Tolbert, &
LaCombe, 2020) for studying local entrepreneurship represented by actual
adoption and usage of the Internet. The dataset includes venture density
variables in various time frames. Furthermore, the dataset includes
numbers of important demographic/economic factors derived from the
American Community Survey estimates.

In the following section, I will import, inspect and set up the dataset
for further join with other databases.

``` r
## Import the Dataset
godaddy_cbsa <- read.csv("GoDaddy_CBSA.csv", header = T)    # GoDaddy dataset at the unit of Core Based Statistical Area (CBSA) defined by U.S. Department of Housing and Urban Development
godaddy_county <- read.csv("GoDaddy_County.csv", header = T)    # GoDaddy dataset at the county level

## Inspect Structure
str(godaddy_cbsa)
```

    ## 'data.frame':    933 obs. of  54 variables:
    ##  $ cbsa                     : int  10100 10140 10180 10220 10300 10420 10460 10500 10540 10580 ...
    ##  $ city                     : Factor w/ 933 levels "Aberdeen, SD Micro Area",..: 1 2 3 4 5 6 7 9 10 8 ...
    ##  $ population               : Factor w/ 932 levels " 1,007,257 ",..: 570 816 166 500 926 813 781 143 70 894 ...
    ##  $ venturedensitymay18      : num  1.59 3.22 1.91 1.93 4.28 ...
    ##  $ venturedensitynov18      : num  1.56 3.46 2.01 1.89 4.29 ...
    ##  $ venturedensityfeb19      : num  1.61 3.33 2.01 2.09 4.45 ...
    ##  $ venturedensitymay19      : num  1.55 3.28 1.99 2.08 4.55 ...
    ##  $ venturedensitysep19      : num  1.53 3.26 2.02 2.09 4.56 ...
    ##  $ venturedensityoct19      : num  1.54 3.27 2.23 2.07 4.7 ...
    ##  $ venturedensitynov19      : num  1.6 3.29 2.02 2.08 4.71 ...
    ##  $ venturedensitydec19      : num  1.6 3.29 2.01 2.08 4.7 ...
    ##  $ highlyactive_vdmay18     : num  0.298 0.65 0.387 0.308 1.037 ...
    ##  $ highlyactive_vdnov18     : num  0.349 0.698 0.423 0.334 0.959 ...
    ##  $ highlyactive_vdfeb19     : num  0.327 0.715 0.445 0.368 0.926 ...
    ##  $ highlyactive_vdmay19     : num  0.326 0.714 0.462 0.356 0.925 ...
    ##  $ highlyactive_vdsep19     : num  0.352 0.731 0.511 0.347 0.964 ...
    ##  $ highlyactive_vdoct19     : num  0.344 0.721 0.535 0.334 0.915 ...
    ##  $ highlyactive_vdnov19     : num  0.35 0.695 0.492 0.329 0.93 ...
    ##  $ highlyactive_vddec19     : num  0.35 0.702 0.494 0.317 0.959 ...
    ##  $ age18to24                : num  10 7.4 13.2 11.6 9.5 10.7 11.2 10.3 8.1 11.3 ...
    ##  $ age25to44                : num  24 23.2 25.9 25.4 23.3 24 25.2 25.2 24.8 24.6 ...
    ##  $ age45to54                : num  12.4 13.1 11.4 11.7 13.8 13.9 11.5 12.5 12.6 14.2 ...
    ##  $ age55to64                : num  13.2 15.8 11.2 11.6 14.4 14.3 12.1 12.8 13.8 13.7 ...
    ##  $ age65to74                : num  8.2 11.9 7.9 8.7 10.2 9.2 9.3 8.6 10.4 9.2 ...
    ##  $ age75over                : num  8.4 7.6 6.6 7.2 7 7 7.1 5.8 7.2 6.9 ...
    ##  $ pctpoverty               : num  10.5 16 16 17.3 13.7 13.8 21.4 25.7 16.1 11 ...
    ##  $ pctblack                 : num  1.5 1 8 2.2 2.7 12.1 3.4 52.8 0.4 7.8 ...
    ##  $ pctasian                 : num  2.3 1.6 1.6 0.8 0.3 2.7 1.3 1 1.2 4.3 ...
    ##  $ pctnatandpacific         : num  3.1 5 0.8 8.9 0.6 ...
    ##  $ pcthispanic              : num  2.4 9.8 23 5.1 7.8 1.9 37.5 2.6 8.7 4.9 ...
    ##  $ pctforeignborn           : num  3.47 5.39 4.96 2.58 1.82 ...
    ##  $ pctagriculture           : num  5.87 5.19 3.26 4.75 2.18 ...
    ##  $ pctconstruction          : num  6.55 6.46 6.73 6.34 5.55 ...
    ##  $ pctmanufacturing         : num  13.03 10.31 5.4 6.96 20.96 ...
    ##  $ pctwholesale             : num  3.21 2.39 2.16 2.31 1.65 ...
    ##  $ pctretail                : num  14.3 12 13 11.6 11.3 ...
    ##  $ pcttransportation        : num  3.98 5.27 5.54 3.26 3.69 ...
    ##  $ pctinformation_technology: num  1.83 1.11 1.19 1.35 1.16 ...
    ##  $ pctfinance               : num  5.9 4.43 6.63 5.41 4.36 ...
    ##  $ pctprofessional          : num  5.14 5.78 5.79 7.16 6.98 ...
    ##  $ pcteducation             : num  23.7 22.5 27.7 28.9 25.4 ...
    ##  $ pctentertainment         : num  7.49 10.48 9.47 6.68 7.78 ...
    ##  $ pctpublic                : num  4.09 10.05 7.21 10.31 3.83 ...
    ##  $ pctbroadband             : num  75.1 78.1 69.5 64 76.9 ...
    ##  $ pctbroadband_poorpeople  : num  45.4 53.2 41.8 42.1 55.8 ...
    ##  $ pcths                    : num  31.2 33.3 32.1 33.5 36.9 32.6 28.8 30.8 30.2 26.8 ...
    ##  $ pctcollege               : num  19.9 10.1 14.7 17.5 13.4 19.6 10.2 11.2 13 20 ...
    ##  $ prosperityindex2016      : num  69 30.2 30.4 28.7 55.4 ...
    ##  $ prosperityindex2007      : num  82.3 24.7 37.6 47 50.7 ...
    ##  $ change_prosperity        : num  -13.42 5.01 -7.22 -18.26 4.65 ...
    ##  $ medinc2016               : int  53682 44521 46473 44041 49300 51749 41502 38674 46782 63758 ...
    ##  $ medinc2017               : int  54533 45483 48156 46689 51339 53418 43533 40612 49515 65743 ...
    ##  $ change_medianincome      : int  851 962 1683 2648 2039 1669 2031 1938 2733 1985 ...
    ##  $ smallbusiness_per_100    : num  10.17 7.01 5.46 7.67 5.78 ...

``` r
str(godaddy_county)
```

    ## 'data.frame':    3104 obs. of  48 variables:
    ##  $ cfips                  : int  1001 1003 1005 1007 1009 1011 1013 1015 1017 1019 ...
    ##  $ county                 : Factor w/ 3103 levels "Abbeville County, South Carolina",..: 108 117 127 194 214 302 314 339 435 463 ...
    ##  $ population             : Factor w/ 3050 levels ""," 1,000,560 ",..: 2330 922 1355 1164 2369 127 1014 283 1698 1329 ...
    ##  $ venturedensitymay18    : num  0.2598 2.2786 0.0714 0.1019 0.052 ...
    ##  $ venturedensitynov18    : num  2.13 5.38 0.71 1 1.16 ...
    ##  $ venturedensityfeb19    : num  0.372 5.333 0.207 0.137 0.106 ...
    ##  $ venturedensitysep19    : num  0.431 4.737 0.411 0.517 1.412 ...
    ##  $ venturedensityoct19    : num  1.058 8.867 0.626 0.457 2.502 ...
    ##  $ venturedensitynov19    : num  0.427 4.825 0.429 0.517 1.433 ...
    ##  $ venturedensitydec19    : num  0.429 4.852 0.429 0.504 1.412 ...
    ##  $ highlyactive_vdmay18   : num  0.429 1.162 0.157 0.178 0.295 ...
    ##  $ highlyactive_vdnov18   : num  0.44 1.207 0.158 0.173 0.291 ...
    ##  $ highlyactive_vdfeb19   : num  0.0872 1.1819 0.0488 0.0222 0.0295 ...
    ##  $ highlyactive_vdsep19   : num  0.35 1.122 0.186 0.666 0.553 ...
    ##  $ highlyactive_vdoct19   : num  0.1651 2.0104 0.1845 0.0356 0.2473 ...
    ##  $ highlyactive_vdnov19   : num  0.333 1.088 0.18 0.645 0.545 ...
    ##  $ highlyactive_vddec19   : num  0.326 1.086 0.183 0.637 0.527 ...
    ##  $ pctblack               : num  18.37 9.23 47.89 21.21 1.56 ...
    ##  $ pctnative              : num  0.411 0.616 0.173 0.359 0.296 ...
    ##  $ pctasian               : num  0.807 0.664 0.443 0.062 0.159 ...
    ##  $ pcthispanic            : num  2.57 4.37 4.31 2.22 8.73 ...
    ##  $ pctagriculture         : num  1.2 1.4 4.5 3.9 2.9 ...
    ##  $ pctconstruction        : num  4.8 7.7 6.3 8.2 9.5 ...
    ##  $ pctwholesale           : num  3.1 3 2.8 1.5 3.7 ...
    ##  $ pctretail              : num  10.4 15 11.6 10.2 11.2 ...
    ##  $ pcttransportation      : num  6.6 4.9 6.4 6.7 7.5 ...
    ##  $ pctinformation_tech    : num  1.8 1.4 0.6 0.3 1.1 ...
    ##  $ pctfinance             : num  5.5 6.9 3.4 4.2 4.8 ...
    ##  $ pctprofessional        : num  8.3 10.3 4.7 5.4 7.2 ...
    ##  $ pcteducation           : num  18.2 19.6 19.8 22.3 19.7 ...
    ##  $ pctother_occupation    : num  6.6 5.2 3.5 6.9 6.2 ...
    ##  $ pctpublic              : num  11.9 4.8 7.2 4.4 5.4 ...
    ##  $ pctbroadband           : num  76.6 74.5 57.2 62 65.8 NA 58.2 71 62.8 67.5 ...
    ##  $ pctbroadband_poorpeople: num  53.4 43.4 37.7 35.3 35.6 ...
    ##  $ pcthighschool          : num  87.6 90 73.8 80.7 80 ...
    ##  $ pctcollege             : num  24.6 29.5 12.9 12 13 ...
    ##  $ pctmillennial          : num  18.4 16.9 21 20.2 17 ...
    ##  $ pctgenx                : num  28.4 26.2 26.2 28.9 26.8 ...
    ##  $ pctbabyboomer          : num  20.1 25 22.7 21.3 23.4 ...
    ##  $ pctforeignborn         : num  2.11 3.31 2.62 1.02 4.54 ...
    ##  $ prosperityindex2016    : num  43.9 52.07 3.42 42.41 27.9 ...
    ##  $ prosperity2007         : num  48.71 39.85 4.14 35.61 25.83 ...
    ##  $ change_prosperity      : num  -4.811 12.218 -0.719 6.802 2.071 ...
    ##  $ medinc2016             : int  50881 50168 34544 36148 45012 NA 32304 40222 34712 37809 ...
    ##  $ medinc2017             : int  53099 51365 33956 39776 46212 NA 34315 41954 36027 38925 ...
    ##  $ change_income          : int  2218 1197 -588 3628 1200 320 2011 1732 1315 1116 ...
    ##  $ unemployment           : num  5.2 5.5 12.4 8.2 4.9 12.1 7.6 10.1 6.4 5.3 ...
    ##  $ net_migration          : int  -1396 2010 -367 462 -1568 -596 -684 1090 -122 -277 ...

The GoDaddy dataset also has to be filtered to include only Texas data.
Since we are at the moment only interested in county level information,
the filtering will only be conducted to the county level dataset. The
county level dataset has a variable named *cfips*, which is a FIPS code.
FIPS code idnetifies Texas by the [first two digit:
‘48’](https://www.dshs.texas.gov/chs/info/info_txco.shtm).

``` r
## Filtering Texas using FIPS code
str(godaddy_county)
```

    ## 'data.frame':    3104 obs. of  48 variables:
    ##  $ cfips                  : int  1001 1003 1005 1007 1009 1011 1013 1015 1017 1019 ...
    ##  $ county                 : Factor w/ 3103 levels "Abbeville County, South Carolina",..: 108 117 127 194 214 302 314 339 435 463 ...
    ##  $ population             : Factor w/ 3050 levels ""," 1,000,560 ",..: 2330 922 1355 1164 2369 127 1014 283 1698 1329 ...
    ##  $ venturedensitymay18    : num  0.2598 2.2786 0.0714 0.1019 0.052 ...
    ##  $ venturedensitynov18    : num  2.13 5.38 0.71 1 1.16 ...
    ##  $ venturedensityfeb19    : num  0.372 5.333 0.207 0.137 0.106 ...
    ##  $ venturedensitysep19    : num  0.431 4.737 0.411 0.517 1.412 ...
    ##  $ venturedensityoct19    : num  1.058 8.867 0.626 0.457 2.502 ...
    ##  $ venturedensitynov19    : num  0.427 4.825 0.429 0.517 1.433 ...
    ##  $ venturedensitydec19    : num  0.429 4.852 0.429 0.504 1.412 ...
    ##  $ highlyactive_vdmay18   : num  0.429 1.162 0.157 0.178 0.295 ...
    ##  $ highlyactive_vdnov18   : num  0.44 1.207 0.158 0.173 0.291 ...
    ##  $ highlyactive_vdfeb19   : num  0.0872 1.1819 0.0488 0.0222 0.0295 ...
    ##  $ highlyactive_vdsep19   : num  0.35 1.122 0.186 0.666 0.553 ...
    ##  $ highlyactive_vdoct19   : num  0.1651 2.0104 0.1845 0.0356 0.2473 ...
    ##  $ highlyactive_vdnov19   : num  0.333 1.088 0.18 0.645 0.545 ...
    ##  $ highlyactive_vddec19   : num  0.326 1.086 0.183 0.637 0.527 ...
    ##  $ pctblack               : num  18.37 9.23 47.89 21.21 1.56 ...
    ##  $ pctnative              : num  0.411 0.616 0.173 0.359 0.296 ...
    ##  $ pctasian               : num  0.807 0.664 0.443 0.062 0.159 ...
    ##  $ pcthispanic            : num  2.57 4.37 4.31 2.22 8.73 ...
    ##  $ pctagriculture         : num  1.2 1.4 4.5 3.9 2.9 ...
    ##  $ pctconstruction        : num  4.8 7.7 6.3 8.2 9.5 ...
    ##  $ pctwholesale           : num  3.1 3 2.8 1.5 3.7 ...
    ##  $ pctretail              : num  10.4 15 11.6 10.2 11.2 ...
    ##  $ pcttransportation      : num  6.6 4.9 6.4 6.7 7.5 ...
    ##  $ pctinformation_tech    : num  1.8 1.4 0.6 0.3 1.1 ...
    ##  $ pctfinance             : num  5.5 6.9 3.4 4.2 4.8 ...
    ##  $ pctprofessional        : num  8.3 10.3 4.7 5.4 7.2 ...
    ##  $ pcteducation           : num  18.2 19.6 19.8 22.3 19.7 ...
    ##  $ pctother_occupation    : num  6.6 5.2 3.5 6.9 6.2 ...
    ##  $ pctpublic              : num  11.9 4.8 7.2 4.4 5.4 ...
    ##  $ pctbroadband           : num  76.6 74.5 57.2 62 65.8 NA 58.2 71 62.8 67.5 ...
    ##  $ pctbroadband_poorpeople: num  53.4 43.4 37.7 35.3 35.6 ...
    ##  $ pcthighschool          : num  87.6 90 73.8 80.7 80 ...
    ##  $ pctcollege             : num  24.6 29.5 12.9 12 13 ...
    ##  $ pctmillennial          : num  18.4 16.9 21 20.2 17 ...
    ##  $ pctgenx                : num  28.4 26.2 26.2 28.9 26.8 ...
    ##  $ pctbabyboomer          : num  20.1 25 22.7 21.3 23.4 ...
    ##  $ pctforeignborn         : num  2.11 3.31 2.62 1.02 4.54 ...
    ##  $ prosperityindex2016    : num  43.9 52.07 3.42 42.41 27.9 ...
    ##  $ prosperity2007         : num  48.71 39.85 4.14 35.61 25.83 ...
    ##  $ change_prosperity      : num  -4.811 12.218 -0.719 6.802 2.071 ...
    ##  $ medinc2016             : int  50881 50168 34544 36148 45012 NA 32304 40222 34712 37809 ...
    ##  $ medinc2017             : int  53099 51365 33956 39776 46212 NA 34315 41954 36027 38925 ...
    ##  $ change_income          : int  2218 1197 -588 3628 1200 320 2011 1732 1315 1116 ...
    ##  $ unemployment           : num  5.2 5.5 12.4 8.2 4.9 12.1 7.6 10.1 6.4 5.3 ...
    ##  $ net_migration          : int  -1396 2010 -367 462 -1568 -596 -684 1090 -122 -277 ...

``` r
godaddy_county_tx <- godaddy_county %>% 
  filter(startsWith(as.character(cfips), "48")) %>% # Filter Texas
  mutate(population = as.numeric(gsub(",","",as.character(population)))) %>% # Convert population from factor to numeric
  separate(county, into = c("county", "state"), sep = ", ", remove = T) %>% # Separate county variable which had state and county data at the same time
  droplevels()  # Drop unused levels from factor variables

## Inspect Structure
str(godaddy_county_tx)
```

    ## 'data.frame':    253 obs. of  49 variables:
    ##  $ cfips                  : int  48001 48003 48005 48007 48009 48011 48013 48015 48017 48019 ...
    ##  $ county                 : chr  "Anderson County" "Andrews County" "Angelina County" "Aransas County" ...
    ##  $ state                  : chr  "Texas" "Texas" "Texas" "Texas" ...
    ##  $ population             : num  57772 17215 87657 24729 8750 ...
    ##  $ venturedensitymay18    : num  0.516 0.511 1.011 1.622 0.457 ...
    ##  $ venturedensitynov18    : num  1.302 1.458 2.277 3.995 0.754 ...
    ##  $ venturedensityfeb19    : num  1.025 1.499 2.495 3.886 0.834 ...
    ##  $ venturedensitysep19    : num  0.968 2.138 1.46 3.088 2.096 ...
    ##  $ venturedensityoct19    : num  1.46 2.09 1.57 11.15 1.69 ...
    ##  $ venturedensitynov19    : num  0.971 2.058 1.457 3.138 2.07 ...
    ##  $ venturedensitydec19    : num  0.96 2.05 1.45 3.15 2.07 ...
    ##  $ highlyactive_vdmay18   : num  0.289 0.17 0.456 0.724 0.184 ...
    ##  $ highlyactive_vdnov18   : num  0.273 0.163 0.446 0.732 0.171 ...
    ##  $ highlyactive_vdfeb19   : num  0.241 0.134 0.472 0.7 0.229 ...
    ##  $ highlyactive_vdsep19   : num  0.3 0.28 0.303 0.564 0.983 ...
    ##  $ highlyactive_vdoct19   : num  0.281 0.248 0.321 2.154 0.452 ...
    ##  $ highlyactive_vdnov19   : num  0.297 0.296 0.297 0.578 0.956 ...
    ##  $ highlyactive_vddec19   : num  0.29 0.312 0.296 0.59 0.952 ...
    ##  $ pctblack               : num  21.197 1.487 14.583 1.618 0.686 ...
    ##  $ pctnative              : num  0.3566 0.0871 0.1095 0.182 1.1314 ...
    ##  $ pctasian               : num  0.582 0.209 1.01 1.007 0.491 ...
    ##  $ pcthispanic            : num  16.96 54.37 21.11 26.27 8.25 ...
    ##  $ pctagriculture         : num  9.5 29.4 3.6 6.3 12.7 ...
    ##  $ pctconstruction        : num  5.1 7.5 6.5 13.4 7.1 ...
    ##  $ pctwholesale           : num  2.1 2.3 2.2 2.9 4 ...
    ##  $ pctretail              : num  18.8 7.6 13.2 13.6 13.6 ...
    ##  $ pcttransportation      : num  5.9 8.2 4.2 3.2 5.9 ...
    ##  $ pctinformation_tech    : num  0.8 0.5 0.6 0.6 1.1 ...
    ##  $ pctfinance             : num  3.4 4.6 3.8 4.5 5.2 ...
    ##  $ pctprofessional        : num  7.2 8 7.5 8.9 6.1 ...
    ##  $ pcteducation           : num  21.2 14.8 28 17.2 24.7 ...
    ##  $ pctother_occupation    : num  3.9 3.2 5.7 7.2 4.9 ...
    ##  $ pctpublic              : num  11.7 1.8 4 3.6 4.5 ...
    ##  $ pctbroadband           : num  64.2 81.5 76 75.7 70 73.1 73.7 70.9 56.5 71.8 ...
    ##  $ pctbroadband_poorpeople: num  37.6 48 49.8 53.3 31 ...
    ##  $ pcthighschool          : num  80.2 73.8 79.9 83.2 90.1 ...
    ##  $ pctcollege             : num  11.8 10.6 15.7 20.2 21.8 ...
    ##  $ pctmillennial          : num  21.8 20.9 19.2 13.8 14.7 ...
    ##  $ pctgenx                : num  31.1 25.2 25.2 22.8 26.9 ...
    ##  $ pctbabyboomer          : num  20 15 20.3 31.2 25.2 ...
    ##  $ pctforeignborn         : num  6.51 13.62 8.05 5.79 2.17 ...
    ##  $ prosperityindex2016    : num  21.9 44.3 18.2 39.8 45.5 ...
    ##  $ prosperity2007         : num  22.6 57.7 31.1 18.9 53.5 ...
    ##  $ change_prosperity      : num  -0.658 -13.485 -12.833 20.881 -7.929 ...
    ##  $ medinc2016             : int  41979 69489 41898 45101 61622 61250 51168 50748 37655 54455 ...
    ##  $ medinc2017             : int  42146 70121 44185 44851 62407 65000 53181 56681 40589 55434 ...
    ##  $ change_income          : int  167 632 2287 -250 785 3750 2013 5933 2934 979 ...
    ##  $ unemployment           : num  4.3 4.5 7.6 6.7 3 1.8 6.1 5.4 2.2 5.7 ...
    ##  $ net_migration          : int  -916 -591 87 2213 -11 404 -1812 38 610 -37 ...

## M-Lab Datasets

Measurement Lab (M-Lab) datasets consists of user reported download (DL)
and upload (UL) speed by geographical information. The easiest way to
access and retrieve data from the database is by making queries via
Google BigQuery platform using Standard SQL statements. Currently M-Lab
suggests using the *Unified View* dataset to researchers. The datasets
from the following time frames are retrived through BigQuery using SQL
statements shared by M-Lab team modified to match the time frames.

  - September 2019
  - October 2019
  - November 2019
  - December 2019

These time frames are initially selected because it matches the ones
provided in the GoDaddy dataset. GoDaddy dataset provides venture
density information in several time frame. While there are several time
frames in 2018, the intervals are inconsistent. Since the time frames of
2019 are equally distanced (i.e., monthly) from September to December,
this time frame was initially selected for M-Lab data retrieval.

In this section, I will import the retrieved M-Lab datasets and clean
them.

``` r
## Import the Dataset
mlab_sept <- read.csv("Mlab_State_All_Sept_2019.csv", header = T)
mlab_oct <- read.csv("Mlab_State_All_Oct_2019.csv", header = T)
mlab_nov <- read.csv("Mlab_State_All_Nov_2019.csv", header = T)
mlab_dec <- read.csv("Mlab_State_All_Dec_2019.csv", header = T)

## Inspect Structure
str(mlab_sept)
```

    ## 'data.frame':    3116 obs. of  28 variables:
    ##  $ state                : Factor w/ 51 levels "AK","AL","AR",..: 31 20 20 20 47 31 20 9 20 20 ...
    ##  $ county_name          : Factor w/ 1818 levels "Abbeville","Acadia",..: 748 1297 198 99 1771 389 697 1578 1132 1168 ...
    ##  $ frac_under_25mbpsDL  : num  0.586 0.371 0.41 0.375 0.481 ...
    ##  $ samples              : int  9269 5083 5215 3840 721 318 7406 2242 476 11272 ...
    ##  $ UL_3_state           : Factor w/ 51 levels "AK","AL","AR",..: 31 20 20 20 47 31 20 9 20 20 ...
    ##  $ UL_3_county_name     : Factor w/ 1818 levels "Abbeville","Acadia",..: 748 1297 198 99 1771 389 697 1578 1132 1168 ...
    ##  $ frac_under_3mbpsUL   : num  0.34 0.158 0.174 0.154 0.22 ...
    ##  $ UL_3_samples         : int  10133 5439 5492 4339 920 329 7485 2770 534 11772 ...
    ##  $ DL_10_state          : Factor w/ 51 levels "AK","AL","AR",..: 31 20 20 20 47 31 20 9 20 20 ...
    ##  $ DL_10_county_name    : Factor w/ 1818 levels "Abbeville","Acadia",..: 748 1297 198 99 1771 389 697 1578 1132 1168 ...
    ##  $ frac_under_10mbpsDL  : num  0.392 0.199 0.22 0.217 0.283 ...
    ##  $ DL_10_samples        : int  9269 5083 5215 3840 721 318 7406 2242 476 11272 ...
    ##  $ UL_1_state           : Factor w/ 51 levels "AK","AL","AR",..: 31 20 20 20 47 31 20 9 20 20 ...
    ##  $ UL_1_county_name     : Factor w/ 1818 levels "Abbeville","Acadia",..: 748 1297 198 99 1771 389 697 1578 1132 1168 ...
    ##  $ frac_under_1mbpsUL   : num  0.2033 0.0734 0.0823 0.0839 0.1207 ...
    ##  $ UL_1_samples         : int  10133 5439 5492 4339 920 329 7485 2770 534 11772 ...
    ##  $ DLmed_state          : Factor w/ 51 levels "AK","AL","AR",..: 31 20 20 20 47 31 20 9 20 20 ...
    ##  $ DLmed_county_name    : Factor w/ 1818 levels "Abbeville","Acadia",..: 748 1297 198 99 1771 389 697 1578 1132 1168 ...
    ##  $ DLmbps               : num  16 38.7 33.4 38.3 25.5 ...
    ##  $ ULmed_state          : Factor w/ 51 levels "AK","AL","AR",..: 31 20 20 20 47 31 20 9 20 20 ...
    ##  $ ULmed_county_name    : Factor w/ 1818 levels "Abbeville","Acadia",..: 748 1297 198 99 1771 389 697 1578 1132 1168 ...
    ##  $ ULmbps               : num  4.82 9.18 8.25 8.68 11.8 ...
    ##  $ ul_sample_size       : int  685828 473317 502626 440441 63545 26233 459424 284497 52777 1146987 ...
    ##  $ ul_sample_state      : Factor w/ 51 levels "AK","AL","AR",..: 31 20 20 20 47 31 20 9 20 20 ...
    ##  $ ul_sample_county_name: Factor w/ 1818 levels "Abbeville","Acadia",..: 748 1297 198 99 1771 389 697 1578 1132 1168 ...
    ##  $ dl_sample_size       : int  634384 473725 566369 360329 53306 24285 464271 397404 39295 1039665 ...
    ##  $ dl_sample_state      : Factor w/ 51 levels "AK","AL","AR",..: 31 20 20 20 47 31 20 9 20 20 ...
    ##  $ dl_sample_county_name: Factor w/ 1818 levels "Abbeville","Acadia",..: 748 1297 198 99 1771 389 697 1578 1132 1168 ...

``` r
str(mlab_oct)
```

    ## 'data.frame':    3108 obs. of  28 variables:
    ##  $ state                : Factor w/ 51 levels "AK","AL","AR",..: 47 47 20 47 47 20 40 47 20 31 ...
    ##  $ county_name          : Factor w/ 1814 levels "Abbeville","Acadia",..: 1767 1768 1785 1208 653 1131 1154 584 1167 312 ...
    ##  $ frac_under_25mbpsDL  : num  0.721 0.505 0.405 0.684 0 ...
    ##  $ samples              : int  943 598 9557 133 2 446 1653 670 11607 1203 ...
    ##  $ UL_3_state           : Factor w/ 51 levels "AK","AL","AR",..: 47 47 20 47 47 20 40 47 20 31 ...
    ##  $ UL_3_county_name     : Factor w/ 1814 levels "Abbeville","Acadia",..: 1767 1768 1785 1208 653 1131 1154 584 1167 312 ...
    ##  $ frac_under_3mbpsUL   : num  0.581 0.171 0.185 0.449 0 ...
    ##  $ UL_3_samples         : int  1001 697 10627 136 2 514 1741 730 12040 1303 ...
    ##  $ DL_10_state          : Factor w/ 51 levels "AK","AL","AR",..: 47 47 20 47 47 20 40 47 20 31 ...
    ##  $ DL_10_county_name    : Factor w/ 1814 levels "Abbeville","Acadia",..: 1767 1768 1785 1208 653 1131 1154 584 1167 312 ...
    ##  $ frac_under_10mbpsDL  : num  0.467 0.254 0.235 0.586 0 ...
    ##  $ DL_10_samples        : int  943 598 9557 133 2 446 1653 670 11607 1203 ...
    ##  $ UL_1_state           : Factor w/ 51 levels "AK","AL","AR",..: 47 47 20 47 47 20 40 47 20 31 ...
    ##  $ UL_1_county_name     : Factor w/ 1814 levels "Abbeville","Acadia",..: 1767 1768 1785 1208 653 1131 1154 584 1167 312 ...
    ##  $ frac_under_1mbpsUL   : num  0.392 0.115 0.092 0.375 0 ...
    ##  $ UL_1_samples         : int  1001 697 10627 136 2 514 1741 730 12040 1303 ...
    ##  $ DLmed_state          : Factor w/ 51 levels "AK","AL","AR",..: 47 47 20 47 47 20 40 47 20 31 ...
    ##  $ DLmed_county_name    : Factor w/ 1814 levels "Abbeville","Acadia",..: 1767 1768 1785 1208 653 1131 1154 584 1167 312 ...
    ##  $ DLmbps               : num  10.61 24.33 34.5 6.67 76.35 ...
    ##  $ ULmed_state          : Factor w/ 51 levels "AK","AL","AR",..: 47 47 20 47 47 20 40 47 20 31 ...
    ##  $ ULmed_county_name    : Factor w/ 1814 levels "Abbeville","Acadia",..: 1767 1768 1785 1208 653 1131 1154 584 1167 312 ...
    ##  $ ULmbps               : num  1.78 19.88 8.45 4.57 70.15 ...
    ##  $ ul_sample_size       : int  76302 63529 1023143 32929 2628 52783 152115 47255 1147115 123472 ...
    ##  $ ul_sample_state      : Factor w/ 51 levels "AK","AL","AR",..: 47 47 20 47 47 20 40 47 20 31 ...
    ##  $ ul_sample_county_name: Factor w/ 1814 levels "Abbeville","Acadia",..: 1767 1768 1785 1208 653 1131 1154 584 1167 312 ...
    ##  $ dl_sample_size       : int  73530 53286 933324 31265 2597 39301 140696 49224 1039791 115321 ...
    ##  $ dl_sample_state      : Factor w/ 51 levels "AK","AL","AR",..: 47 47 20 47 47 20 40 47 20 31 ...
    ##  $ dl_sample_county_name: Factor w/ 1814 levels "Abbeville","Acadia",..: 1767 1768 1785 1208 653 1131 1154 584 1167 312 ...

``` r
str(mlab_nov)
```

    ## 'data.frame':    3116 obs. of  28 variables:
    ##  $ state                : Factor w/ 51 levels "AK","AL","AR",..: 12 31 47 20 20 47 12 40 31 20 ...
    ##  $ county_name          : Factor w/ 1816 levels "Abbeville","Acadia",..: 763 392 241 1567 503 1212 728 860 1568 701 ...
    ##  $ frac_under_25mbpsDL  : num  0.594 0.675 0.735 0.471 0.262 ...
    ##  $ samples              : int  11255 335 170 21229 615 187 2003 1962 605 7112 ...
    ##  $ UL_3_state           : Factor w/ 51 levels "AK","AL","AR",..: 12 31 47 20 20 47 12 40 31 20 ...
    ##  $ UL_3_county_name     : Factor w/ 1816 levels "Abbeville","Acadia",..: 763 392 241 1567 503 1212 728 860 1568 701 ...
    ##  $ frac_under_3mbpsUL   : num  0.2769 0.3707 0.6413 0.2403 0.0874 ...
    ##  $ UL_3_samples         : int  12434 348 184 19988 652 220 2311 1906 610 6844 ...
    ##  $ DL_10_state          : Factor w/ 51 levels "AK","AL","AR",..: 12 31 47 20 20 47 12 40 31 20 ...
    ##  $ DL_10_county_name    : Factor w/ 1816 levels "Abbeville","Acadia",..: 763 392 241 1567 503 1212 728 860 1568 701 ...
    ##  $ frac_under_10mbpsDL  : num  0.431 0.451 0.512 0.302 0.189 ...
    ##  $ DL_10_samples        : int  11255 335 170 21229 615 187 2003 1962 605 7112 ...
    ##  $ UL_1_state           : Factor w/ 51 levels "AK","AL","AR",..: 12 31 47 20 20 47 12 40 31 20 ...
    ##  $ UL_1_county_name     : Factor w/ 1816 levels "Abbeville","Acadia",..: 763 392 241 1567 503 1212 728 860 1568 701 ...
    ##  $ frac_under_1mbpsUL   : num  0.1543 0.2098 0.3641 0.1276 0.0552 ...
    ##  $ UL_1_samples         : int  12434 348 184 19988 652 220 2311 1906 610 6844 ...
    ##  $ DLmed_state          : Factor w/ 51 levels "AK","AL","AR",..: 12 31 47 20 20 47 12 40 31 20 ...
    ##  $ DLmed_county_name    : Factor w/ 1816 levels "Abbeville","Acadia",..: 763 392 241 1567 503 1212 728 860 1568 701 ...
    ##  $ DLmbps               : num  14.36 11.83 9.35 27.13 66.55 ...
    ##  $ ULmed_state          : Factor w/ 51 levels "AK","AL","AR",..: 12 31 47 20 20 47 12 40 31 20 ...
    ##  $ ULmed_county_name    : Factor w/ 1816 levels "Abbeville","Acadia",..: 763 392 241 1567 503 1212 728 860 1568 701 ...
    ##  $ ULmbps               : num  6.64 5.73 1.51 6.5 11.17 ...
    ##  $ ul_sample_size       : int  1148898 26233 26903 1683859 73996 20484 209937 190648 54304 459390 ...
    ##  $ ul_sample_state      : Factor w/ 51 levels "AK","AL","AR",..: 12 31 47 20 20 47 12 40 31 20 ...
    ##  $ ul_sample_county_name: Factor w/ 1816 levels "Abbeville","Acadia",..: 763 392 241 1567 503 1212 728 860 1568 701 ...
    ##  $ dl_sample_size       : int  953265 24284 27116 1731760 58470 17855 148772 215691 48506 464236 ...
    ##  $ dl_sample_state      : Factor w/ 51 levels "AK","AL","AR",..: 12 31 47 20 20 47 12 40 31 20 ...
    ##  $ dl_sample_county_name: Factor w/ 1816 levels "Abbeville","Acadia",..: 763 392 241 1567 503 1212 728 860 1568 701 ...

``` r
str(mlab_dec)
```

    ## 'data.frame':    3100 obs. of  28 variables:
    ##  $ state                : Factor w/ 51 levels "AK","AL","AR",..: 20 47 47 31 9 47 20 47 20 7 ...
    ##  $ county_name          : Factor w/ 1806 levels "Abbeville","Acadia",..: 1292 1710 321 388 1570 1761 498 1208 1128 719 ...
    ##  $ frac_under_25mbpsDL  : num  0.338 0.673 0.408 0.713 0.263 ...
    ##  $ samples              : int  6081 1239 3067 338 2763 527 690 285 525 15854 ...
    ##  $ UL_3_state           : Factor w/ 51 levels "AK","AL","AR",..: 20 47 47 31 9 47 20 47 20 7 ...
    ##  $ UL_3_county_name     : Factor w/ 1806 levels "Abbeville","Acadia",..: 1292 1710 321 388 1570 1761 498 1208 1128 719 ...
    ##  $ frac_under_3mbpsUL   : num  0.115 0.548 0.216 0.346 0.143 ...
    ##  $ UL_3_samples         : int  5849 1226 3055 353 2759 555 726 292 565 15122 ...
    ##  $ DL_10_state          : Factor w/ 51 levels "AK","AL","AR",..: 20 47 47 31 9 47 20 47 20 7 ...
    ##  $ DL_10_county_name    : Factor w/ 1806 levels "Abbeville","Acadia",..: 1292 1710 321 388 1570 1761 498 1208 1128 719 ...
    ##  $ frac_under_10mbpsDL  : num  0.201 0.502 0.232 0.538 0.161 ...
    ##  $ DL_10_samples        : int  6081 1239 3067 338 2763 527 690 285 525 15854 ...
    ##  $ UL_1_state           : Factor w/ 51 levels "AK","AL","AR",..: 20 47 47 31 9 47 20 47 20 7 ...
    ##  $ UL_1_county_name     : Factor w/ 1806 levels "Abbeville","Acadia",..: 1292 1710 321 388 1570 1761 498 1208 1128 719 ...
    ##  $ frac_under_1mbpsUL   : num  0.0518 0.4307 0.1316 0.2465 0.0783 ...
    ##  $ UL_1_samples         : int  5849 1226 3055 353 2759 555 726 292 565 15122 ...
    ##  $ DLmed_state          : Factor w/ 51 levels "AK","AL","AR",..: 20 47 47 31 9 47 20 47 20 7 ...
    ##  $ DLmed_county_name    : Factor w/ 1806 levels "Abbeville","Acadia",..: 1292 1710 321 388 1570 1761 498 1208 1128 719 ...
    ##  $ DLmbps               : num  50.5 9.45 37.42 9.27 78.16 ...
    ##  $ ULmed_state          : Factor w/ 51 levels "AK","AL","AR",..: 20 47 47 31 9 47 20 47 20 7 ...
    ##  $ ULmed_county_name    : Factor w/ 1806 levels "Abbeville","Acadia",..: 1292 1710 321 388 1570 1761 498 1208 1128 719 ...
    ##  $ ULmbps               : num  11.19 1.85 5.75 7.86 11 ...
    ##  $ ul_sample_size       : int  473206 114924 261295 26233 284548 63517 74003 20481 52783 1246316 ...
    ##  $ ul_sample_state      : Factor w/ 51 levels "AK","AL","AR",..: 20 47 47 31 9 47 20 47 20 7 ...
    ##  $ ul_sample_county_name: Factor w/ 1806 levels "Abbeville","Acadia",..: 1292 1710 321 388 1570 1761 498 1208 1128 719 ...
    ##  $ dl_sample_size       : int  473642 117077 228860 24284 397443 53273 58476 17855 39301 1360614 ...
    ##  $ dl_sample_state      : Factor w/ 51 levels "AK","AL","AR",..: 20 47 47 31 9 47 20 47 20 7 ...
    ##  $ dl_sample_county_name: Factor w/ 1806 levels "Abbeville","Acadia",..: 1292 1710 321 388 1570 1761 498 1208 1128 719 ...

``` r
#### Cleaning and Filtering the Dataset ####
## September 2019 ##
mlab_sept_tx <- mlab_sept %>% 
  filter(state == "TX") %>% 
  select(-c("UL_3_state","UL_3_county_name","DL_10_state","DL_10_county_name","UL_1_state","UL_1_county_name","DLmed_state","DLmed_county_name","ULmed_state","ULmed_county_name","ul_sample_state","ul_sample_county_name","dl_sample_state","dl_sample_county_name")) %>% 
  mutate(county = paste(as.character(county_name), "County", sep = " "),
         frac_over_25DL = 1 - frac_under_25mbpsDL,
         frac_over_3UL = 1 - frac_under_3mbpsUL) %>% 
  droplevels()

str(mlab_sept_tx)
```

    ## 'data.frame':    247 obs. of  17 variables:
    ##  $ state              : Factor w/ 1 level "TX": 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ county_name        : Factor w/ 247 levels "Anderson","Andrews",..: 12 147 231 131 65 9 197 16 201 77 ...
    ##  $ frac_under_25mbpsDL: num  1 0.871 0.894 0.556 0.556 ...
    ##  $ samples            : int  25 31 113 9 9 25 739 160 77 5 ...
    ##  $ frac_under_3mbpsUL : num  0.962 0.833 0.673 0.75 0.111 ...
    ##  $ UL_3_samples       : int  26 30 104 8 9 23 664 216 83 4 ...
    ##  $ frac_under_10mbpsDL: num  0.8 0.71 0.752 0.444 0.222 ...
    ##  $ DL_10_samples      : int  25 31 113 9 9 25 739 160 77 5 ...
    ##  $ frac_under_1mbpsUL : num  0.846 0.4 0.442 0.375 0.111 ...
    ##  $ UL_1_samples       : int  26 30 104 8 9 23 664 216 83 4 ...
    ##  $ DLmbps             : num  3.05 6.18 4.36 16.65 15.87 ...
    ##  $ ULmbps             : num  0.498 1.638 1.171 1.382 44.415 ...
    ##  $ ul_sample_size     : int  2185 7885 7818 1547 1914 2549 19140 72770 8424 821 ...
    ##  $ dl_sample_size     : int  2173 5258 9023 1738 1763 2493 19666 75187 16137 926 ...
    ##  $ county             : chr  "Baylor County" "Lynn County" "Ward County" "Kinney County" ...
    ##  $ frac_over_25DL     : num  0 0.129 0.106 0.444 0.444 ...
    ##  $ frac_over_3UL      : num  0.0385 0.1667 0.3269 0.25 0.8889 ...

``` r
## October 2019 ##
mlab_oct_tx <- mlab_oct %>% 
  filter(state == "TX") %>% 
  select(-c("UL_3_state","UL_3_county_name","DL_10_state","DL_10_county_name","UL_1_state","UL_1_county_name","DLmed_state","DLmed_county_name","ULmed_state","ULmed_county_name","ul_sample_state","ul_sample_county_name","dl_sample_state","dl_sample_county_name")) %>% 
  mutate(county = paste(as.character(county_name), "County", sep = " "),
         frac_over_25DL = 1 - frac_under_25mbpsDL,
         frac_over_3UL = 1 - frac_under_3mbpsUL) %>% 
  droplevels()

## November 2019 ##
mlab_nov_tx <- mlab_nov %>% 
  filter(state == "TX") %>% 
  select(-c("UL_3_state","UL_3_county_name","DL_10_state","DL_10_county_name","UL_1_state","UL_1_county_name","DLmed_state","DLmed_county_name","ULmed_state","ULmed_county_name","ul_sample_state","ul_sample_county_name","dl_sample_state","dl_sample_county_name")) %>% 
  mutate(county = paste(as.character(county_name), "County", sep = " "),
         frac_over_25DL = 1 - frac_under_25mbpsDL,
         frac_over_3UL = 1 - frac_under_3mbpsUL) %>% 
  droplevels()

## December 2019 ##
mlab_dec_tx <- mlab_dec %>% 
  filter(state == "TX") %>% 
  select(-c("UL_3_state","UL_3_county_name","DL_10_state","DL_10_county_name","UL_1_state","UL_1_county_name","DLmed_state","DLmed_county_name","ULmed_state","ULmed_county_name","ul_sample_state","ul_sample_county_name","dl_sample_state","dl_sample_county_name")) %>% 
  mutate(county = paste(as.character(county_name), "County", sep = " "),
         frac_over_25DL = 1 - frac_under_25mbpsDL,
         frac_over_3UL = 1 - frac_under_3mbpsUL) %>% 
  droplevels()
```

## Texas Sole Proprietors Dataset

This dataset contains information of sole proprietors number provided by
the Bureau of Business Research at \(IC^{2}\) Institute. The information
is presented at the county level.

``` r
## Import the Dataset
tx_proprietor <- read_csv("Sole-Proprietors-tx-combined.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   county = col_character(),
    ##   pct_change_proprietors_2000_2017 = col_double(),
    ##   proprietors_2000 = col_double(),
    ##   proprietors_2017 = col_double(),
    ##   pct_proprietors_employment_2000 = col_double(),
    ##   pct_proprietors_employment_2010 = col_double(),
    ##   pct_proprietors_employment_2017 = col_double(),
    ##   total_employment_2017 = col_double(),
    ##   wage_salary_jobs_2017 = col_double(),
    ##   pct_change_pro_emp_2000_2017 = col_double(),
    ##   pct_change_pro_emp_2010_2017 = col_double()
    ## )

``` r
## Inspect the Structure
str(tx_proprietor)
```

    ## tibble [254 × 11] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
    ##  $ county                          : chr [1:254] "Anderson County" "Andrews County" "Angelina County" "Aransas County" ...
    ##  $ pct_change_proprietors_2000_2017: num [1:254] 0.0191 0.9181 0.3351 0.2184 0.6091 ...
    ##  $ proprietors_2000                : num [1:254] 6685 1392 8067 3393 1650 ...
    ##  $ proprietors_2017                : num [1:254] 6813 2670 10770 4134 2655 ...
    ##  $ pct_proprietors_employment_2000 : num [1:254] 0.268 0.234 0.178 0.353 0.446 ...
    ##  $ pct_proprietors_employment_2010 : num [1:254] 0.269 0.227 0.202 0.38 0.47 ...
    ##  $ pct_proprietors_employment_2017 : num [1:254] 0.243 0.259 0.224 0.384 0.557 ...
    ##  $ total_employment_2017           : num [1:254] 28073 10318 48183 10767 4766 ...
    ##  $ wage_salary_jobs_2017           : num [1:254] 21260 7648 37413 6633 2111 ...
    ##  $ pct_change_pro_emp_2000_2017    : num [1:254] -0.0256 0.0249 0.0452 0.031 0.1114 ...
    ##  $ pct_change_pro_emp_2010_2017    : num [1:254] -0.0266 0.0314 0.0211 0.0038 0.0875 -0.0156 -0.0125 0.0393 0.0346 -0.0162 ...
    ##  - attr(*, "spec")=
    ##   .. cols(
    ##   ..   county = col_character(),
    ##   ..   pct_change_proprietors_2000_2017 = col_double(),
    ##   ..   proprietors_2000 = col_double(),
    ##   ..   proprietors_2017 = col_double(),
    ##   ..   pct_proprietors_employment_2000 = col_double(),
    ##   ..   pct_proprietors_employment_2010 = col_double(),
    ##   ..   pct_proprietors_employment_2017 = col_double(),
    ##   ..   total_employment_2017 = col_double(),
    ##   ..   wage_salary_jobs_2017 = col_double(),
    ##   ..   pct_change_pro_emp_2000_2017 = col_double(),
    ##   ..   pct_change_pro_emp_2010_2017 = col_double()
    ##   .. )

This dataset’s variables are straighforward as it was pre-cleaned on
Excel spreadsheet.

## IRR Rural Index

This dataset contains information of IRR index at the county level. The
index calculates the extent to which a certain county could be
considered as *‘rural’*. Smaller the value of the index, more rural the
county is considered to be.

There are two datasets that contains data from 2000 and 2010. I will
import these datasets, filter for Texas and set up for a final merge of
all datasets we have.

``` r
## Import the Dataset
rural_2000 <- read_csv("IRR-rural-2000.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   FIPS2000 = col_double(),
    ##   `County Name` = col_character(),
    ##   IRR2000 = col_double()
    ## )

``` r
rural_2010 <- read_csv("IRR-rural-2010.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   FIPS2010 = col_double(),
    ##   `County Name` = col_character(),
    ##   IRR2010 = col_double()
    ## )

``` r
## Inspect Structure
str(rural_2000)
```

    ## tibble [3,135 × 3] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
    ##  $ FIPS2000   : num [1:3135] 1001 1003 1005 1007 1009 ...
    ##  $ County Name: chr [1:3135] "Autauga County, Alabama" "Baldwin County, Alabama" "Barbour County, Alabama" "Bibb County, Alabama" ...
    ##  $ IRR2000    : num [1:3135] 0.48 0.46 0.52 0.53 0.49 0.55 0.53 0.42 0.5 0.52 ...
    ##  - attr(*, "spec")=
    ##   .. cols(
    ##   ..   FIPS2000 = col_double(),
    ##   ..   `County Name` = col_character(),
    ##   ..   IRR2000 = col_double()
    ##   .. )

``` r
str(rural_2010)
```

    ## tibble [3,141 × 3] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
    ##  $ FIPS2010   : num [1:3141] 1001 1003 1005 1007 1009 ...
    ##  $ County Name: chr [1:3141] "Autauga County, Alabama" "Baldwin County, Alabama" "Barbour County, Alabama" "Bibb County, Alabama" ...
    ##  $ IRR2010    : num [1:3141] 0.48 0.44 0.53 0.53 0.49 0.55 0.54 0.42 0.5 0.51 ...
    ##  - attr(*, "spec")=
    ##   .. cols(
    ##   ..   FIPS2010 = col_double(),
    ##   ..   `County Name` = col_character(),
    ##   ..   IRR2010 = col_double()
    ##   .. )

``` r
#### Clean the Datasets ####
## Filter Texas counties using FIPS code ##

rural_2000_tx <- rural_2000 %>% 
  filter(startsWith(as.character(FIPS2000), "48")) %>% 
  separate(`County Name`, into = c("county", "state"), sep = ", ", remove = T)

rural_2010_tx <- rural_2010 %>% 
  filter(startsWith(as.character(FIPS2010), "48")) %>% 
  separate(`County Name`, into = c("county", "state"), sep = ", ", remove = T)

## Inspect Structure
str(rural_2000_tx)
```

    ## tibble [254 × 4] (S3: tbl_df/tbl/data.frame)
    ##  $ FIPS2000: num [1:254] 48001 48003 48005 48007 48009 ...
    ##  $ county  : chr [1:254] "Anderson County" "Andrews County" "Angelina County" "Aransas County" ...
    ##  $ state   : chr [1:254] "Texas" "Texas" "Texas" "Texas" ...
    ##  $ IRR2000 : num [1:254] 0.5 0.56 0.48 0.5 0.57 0.63 0.52 0.52 0.59 0.54 ...

``` r
str(rural_2010_tx)
```

    ## tibble [254 × 4] (S3: tbl_df/tbl/data.frame)
    ##  $ FIPS2010: num [1:254] 48001 48003 48005 48007 48009 ...
    ##  $ county  : chr [1:254] "Anderson County" "Andrews County" "Angelina County" "Aransas County" ...
    ##  $ state   : chr [1:254] "Texas" "Texas" "Texas" "Texas" ...
    ##  $ IRR2010 : num [1:254] 0.5 0.56 0.48 0.49 0.57 0.64 0.51 0.52 0.59 0.54 ...

## Merge into Single Dataset at the County Level

In this section, I will join all the datasets I have cleand and
processed above into a single dataset containing all the information at
the county level rows. The names of the datasets created from the
process above are as follows

  - `ms_broadband_tx`
  - `godaddy_county_tx`
  - `mlab_sept_tx`; `mlab_oct_tx`; `mlab_nov_tx`; `mlab_dec_tx`
  - `tx_proprietor`
  - `rural_2000_tx`; `rural_2010_tx`

I will first inspect the datasets quickly to see if row counts of all
datasets are matched since it is possible some of them (especially M-Lab
datasets) have less/missing observations. Afterwards, I’ll join the
datasets into one.

``` r
#### Inspect the Number of Observations ####
tibble(MS = count(ms_broadband_tx)$n, godaddy = count(godaddy_county_tx)$n,
       mlabsept = count(mlab_sept_tx)$n, mlaboct = count(mlab_oct_tx)$n, mlabnov = count(mlab_nov_tx)$n, mlabdec = count(mlab_dec_tx)$n,
       txprop = count(tx_proprietor)$n, irr2000 = count(rural_2000_tx)$n, irr2010 = count(rural_2010_tx)$n)
```

    ## # A tibble: 1 x 9
    ##      MS godaddy mlabsept mlaboct mlabnov mlabdec txprop irr2000 irr2010
    ##   <int>   <int>    <int>   <int>   <int>   <int>  <int>   <int>   <int>
    ## 1   254     253      247     247     248     249    254     254     254

Several missing observation from M-Lab datasets and one missing from
GoDaddy dataset here. Therefore, it is critical that these datasets are
not used as a reference dataset for joining. Folloiwng code chunk will
use `join` functions of `dplyr`.

``` r
#### Join the Datasets ####

str(ms_broadband_tx)
```

    ## 'data.frame':    254 obs. of  7 variables:
    ##  $ ST                            : Factor w/ 1 level "TX": 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ COUNTY.ID                     : int  48001 48003 48005 48007 48009 48011 48013 48015 48017 48019 ...
    ##  $ COUNTY.NAME                   : Factor w/ 254 levels "Anderson County",..: 1 2 3 4 5 6 7 8 9 10 ...
    ##  $ BROADBAND.AVAILABILITY.PER.FCC: Factor w/ 81 levels " -   "," 0.00 ",..: 37 65 66 81 69 38 75 38 56 23 ...
    ##  $ BROADBAND.USAGE               : Factor w/ 64 levels " 0.01 "," 0.02 ",..: 12 38 26 29 24 10 12 14 9 34 ...
    ##  $ pct_broadband_FCC             : num  0.52 0.83 0.85 1 0.88 0.53 0.94 0.53 0.74 0.34 ...
    ##  $ pct_broadband_MS              : num  0.12 0.4 0.26 0.3 0.24 0.1 0.12 0.14 0.09 0.35 ...

``` r
str(godaddy_county_tx)
```

    ## 'data.frame':    253 obs. of  49 variables:
    ##  $ cfips                  : int  48001 48003 48005 48007 48009 48011 48013 48015 48017 48019 ...
    ##  $ county                 : chr  "Anderson County" "Andrews County" "Angelina County" "Aransas County" ...
    ##  $ state                  : chr  "Texas" "Texas" "Texas" "Texas" ...
    ##  $ population             : num  57772 17215 87657 24729 8750 ...
    ##  $ venturedensitymay18    : num  0.516 0.511 1.011 1.622 0.457 ...
    ##  $ venturedensitynov18    : num  1.302 1.458 2.277 3.995 0.754 ...
    ##  $ venturedensityfeb19    : num  1.025 1.499 2.495 3.886 0.834 ...
    ##  $ venturedensitysep19    : num  0.968 2.138 1.46 3.088 2.096 ...
    ##  $ venturedensityoct19    : num  1.46 2.09 1.57 11.15 1.69 ...
    ##  $ venturedensitynov19    : num  0.971 2.058 1.457 3.138 2.07 ...
    ##  $ venturedensitydec19    : num  0.96 2.05 1.45 3.15 2.07 ...
    ##  $ highlyactive_vdmay18   : num  0.289 0.17 0.456 0.724 0.184 ...
    ##  $ highlyactive_vdnov18   : num  0.273 0.163 0.446 0.732 0.171 ...
    ##  $ highlyactive_vdfeb19   : num  0.241 0.134 0.472 0.7 0.229 ...
    ##  $ highlyactive_vdsep19   : num  0.3 0.28 0.303 0.564 0.983 ...
    ##  $ highlyactive_vdoct19   : num  0.281 0.248 0.321 2.154 0.452 ...
    ##  $ highlyactive_vdnov19   : num  0.297 0.296 0.297 0.578 0.956 ...
    ##  $ highlyactive_vddec19   : num  0.29 0.312 0.296 0.59 0.952 ...
    ##  $ pctblack               : num  21.197 1.487 14.583 1.618 0.686 ...
    ##  $ pctnative              : num  0.3566 0.0871 0.1095 0.182 1.1314 ...
    ##  $ pctasian               : num  0.582 0.209 1.01 1.007 0.491 ...
    ##  $ pcthispanic            : num  16.96 54.37 21.11 26.27 8.25 ...
    ##  $ pctagriculture         : num  9.5 29.4 3.6 6.3 12.7 ...
    ##  $ pctconstruction        : num  5.1 7.5 6.5 13.4 7.1 ...
    ##  $ pctwholesale           : num  2.1 2.3 2.2 2.9 4 ...
    ##  $ pctretail              : num  18.8 7.6 13.2 13.6 13.6 ...
    ##  $ pcttransportation      : num  5.9 8.2 4.2 3.2 5.9 ...
    ##  $ pctinformation_tech    : num  0.8 0.5 0.6 0.6 1.1 ...
    ##  $ pctfinance             : num  3.4 4.6 3.8 4.5 5.2 ...
    ##  $ pctprofessional        : num  7.2 8 7.5 8.9 6.1 ...
    ##  $ pcteducation           : num  21.2 14.8 28 17.2 24.7 ...
    ##  $ pctother_occupation    : num  3.9 3.2 5.7 7.2 4.9 ...
    ##  $ pctpublic              : num  11.7 1.8 4 3.6 4.5 ...
    ##  $ pctbroadband           : num  64.2 81.5 76 75.7 70 73.1 73.7 70.9 56.5 71.8 ...
    ##  $ pctbroadband_poorpeople: num  37.6 48 49.8 53.3 31 ...
    ##  $ pcthighschool          : num  80.2 73.8 79.9 83.2 90.1 ...
    ##  $ pctcollege             : num  11.8 10.6 15.7 20.2 21.8 ...
    ##  $ pctmillennial          : num  21.8 20.9 19.2 13.8 14.7 ...
    ##  $ pctgenx                : num  31.1 25.2 25.2 22.8 26.9 ...
    ##  $ pctbabyboomer          : num  20 15 20.3 31.2 25.2 ...
    ##  $ pctforeignborn         : num  6.51 13.62 8.05 5.79 2.17 ...
    ##  $ prosperityindex2016    : num  21.9 44.3 18.2 39.8 45.5 ...
    ##  $ prosperity2007         : num  22.6 57.7 31.1 18.9 53.5 ...
    ##  $ change_prosperity      : num  -0.658 -13.485 -12.833 20.881 -7.929 ...
    ##  $ medinc2016             : int  41979 69489 41898 45101 61622 61250 51168 50748 37655 54455 ...
    ##  $ medinc2017             : int  42146 70121 44185 44851 62407 65000 53181 56681 40589 55434 ...
    ##  $ change_income          : int  167 632 2287 -250 785 3750 2013 5933 2934 979 ...
    ##  $ unemployment           : num  4.3 4.5 7.6 6.7 3 1.8 6.1 5.4 2.2 5.7 ...
    ##  $ net_migration          : int  -916 -591 87 2213 -11 404 -1812 38 610 -37 ...

``` r
str(mlab_dec_tx)
```

    ## 'data.frame':    249 obs. of  17 variables:
    ##  $ state              : Factor w/ 1 level "TX": 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ county_name        : Factor w/ 249 levels "Anderson","Andrews",..: 249 9 27 162 5 177 80 167 203 77 ...
    ##  $ frac_under_25mbpsDL: num  0.58 0.8 0.574 0.661 0.321 ...
    ##  $ samples            : int  100 40 230 62 56 215 207 30 107 4 ...
    ##  $ frac_under_3mbpsUL : num  0.511 0.711 0.457 0.544 0.169 ...
    ##  $ UL_3_samples       : int  90 38 221 57 59 204 217 31 101 4 ...
    ##  $ frac_under_10mbpsDL: num  0.43 0.4 0.4 0.532 0.286 ...
    ##  $ DL_10_samples      : int  100 40 230 62 56 215 207 30 107 4 ...
    ##  $ frac_under_1mbpsUL : num  0.467 0.184 0.172 0.386 0.153 ...
    ##  $ UL_1_samples       : int  90 38 221 57 59 204 217 31 101 4 ...
    ##  $ DLmbps             : num  13.21 11.94 17.71 9.01 216.98 ...
    ##  $ ULmbps             : num  2.05 2.77 3.25 1.04 92.64 ...
    ##  $ ul_sample_size     : int  2661 2549 20251 3001 12023 18820 12212 4689 8423 821 ...
    ##  $ dl_sample_size     : int  2635 2493 19716 3106 12388 17646 12430 6066 16136 926 ...
    ##  $ county             : chr  "Zavala County" "Bailey County" "Caldwell County" "Mills County" ...
    ##  $ frac_over_25DL     : num  0.42 0.2 0.426 0.339 0.679 ...
    ##  $ frac_over_3UL      : num  0.489 0.289 0.543 0.456 0.831 ...

``` r
str(tx_proprietor)
```

    ## tibble [254 × 11] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
    ##  $ county                          : chr [1:254] "Anderson County" "Andrews County" "Angelina County" "Aransas County" ...
    ##  $ pct_change_proprietors_2000_2017: num [1:254] 0.0191 0.9181 0.3351 0.2184 0.6091 ...
    ##  $ proprietors_2000                : num [1:254] 6685 1392 8067 3393 1650 ...
    ##  $ proprietors_2017                : num [1:254] 6813 2670 10770 4134 2655 ...
    ##  $ pct_proprietors_employment_2000 : num [1:254] 0.268 0.234 0.178 0.353 0.446 ...
    ##  $ pct_proprietors_employment_2010 : num [1:254] 0.269 0.227 0.202 0.38 0.47 ...
    ##  $ pct_proprietors_employment_2017 : num [1:254] 0.243 0.259 0.224 0.384 0.557 ...
    ##  $ total_employment_2017           : num [1:254] 28073 10318 48183 10767 4766 ...
    ##  $ wage_salary_jobs_2017           : num [1:254] 21260 7648 37413 6633 2111 ...
    ##  $ pct_change_pro_emp_2000_2017    : num [1:254] -0.0256 0.0249 0.0452 0.031 0.1114 ...
    ##  $ pct_change_pro_emp_2010_2017    : num [1:254] -0.0266 0.0314 0.0211 0.0038 0.0875 -0.0156 -0.0125 0.0393 0.0346 -0.0162 ...
    ##  - attr(*, "spec")=
    ##   .. cols(
    ##   ..   county = col_character(),
    ##   ..   pct_change_proprietors_2000_2017 = col_double(),
    ##   ..   proprietors_2000 = col_double(),
    ##   ..   proprietors_2017 = col_double(),
    ##   ..   pct_proprietors_employment_2000 = col_double(),
    ##   ..   pct_proprietors_employment_2010 = col_double(),
    ##   ..   pct_proprietors_employment_2017 = col_double(),
    ##   ..   total_employment_2017 = col_double(),
    ##   ..   wage_salary_jobs_2017 = col_double(),
    ##   ..   pct_change_pro_emp_2000_2017 = col_double(),
    ##   ..   pct_change_pro_emp_2010_2017 = col_double()
    ##   .. )

``` r
str(rural_2000_tx)
```

    ## tibble [254 × 4] (S3: tbl_df/tbl/data.frame)
    ##  $ FIPS2000: num [1:254] 48001 48003 48005 48007 48009 ...
    ##  $ county  : chr [1:254] "Anderson County" "Andrews County" "Angelina County" "Aransas County" ...
    ##  $ state   : chr [1:254] "Texas" "Texas" "Texas" "Texas" ...
    ##  $ IRR2000 : num [1:254] 0.5 0.56 0.48 0.5 0.57 0.63 0.52 0.52 0.59 0.54 ...

``` r
## The variables to match from each datasets are
## ms_broadband_tx$COUNTY.ID          Integer
## ms_broadband_tx$COUNTY.NAME        Factor    ("____ County")
## godaddy_county_tx$cfips            Integer
## godaddy_county_tx$county           Character ("____ County")
## mlab datasets$county               Character ("____ County")
## tx_proprietor$county               Character ("____ County")
## rural datasets#county              Character ("____ County")

## Create a character vector for ms_broadband_tx dataset to minimize potential error beforehand
ms_broadband_tx <- ms_broadband_tx %>% mutate(county = as.character(COUNTY.NAME))
str(ms_broadband_tx)
```

    ## 'data.frame':    254 obs. of  8 variables:
    ##  $ ST                            : Factor w/ 1 level "TX": 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ COUNTY.ID                     : int  48001 48003 48005 48007 48009 48011 48013 48015 48017 48019 ...
    ##  $ COUNTY.NAME                   : Factor w/ 254 levels "Anderson County",..: 1 2 3 4 5 6 7 8 9 10 ...
    ##  $ BROADBAND.AVAILABILITY.PER.FCC: Factor w/ 81 levels " -   "," 0.00 ",..: 37 65 66 81 69 38 75 38 56 23 ...
    ##  $ BROADBAND.USAGE               : Factor w/ 64 levels " 0.01 "," 0.02 ",..: 12 38 26 29 24 10 12 14 9 34 ...
    ##  $ pct_broadband_FCC             : num  0.52 0.83 0.85 1 0.88 0.53 0.94 0.53 0.74 0.34 ...
    ##  $ pct_broadband_MS              : num  0.12 0.4 0.26 0.3 0.24 0.1 0.12 0.14 0.09 0.35 ...
    ##  $ county                        : chr  "Anderson County" "Andrews County" "Angelina County" "Aransas County" ...

``` r
## Nested left_joins on IRR dataset
names(mlab_sept_tx) <- paste(names(mlab_sept_tx), ".sept", sep = "")
names(mlab_oct_tx) <- paste(names(mlab_oct_tx), ".oct", sep = "")
names(mlab_nov_tx) <- paste(names(mlab_nov_tx), ".nov", sep = "")
names(mlab_dec_tx) <- paste(names(mlab_dec_tx), ".dec", sep = "")

tx_bb_entrepreneur_merged <- left_join(rural_2000_tx, rural_2010_tx, by = "county") %>% 
  left_join(., tx_proprietor, by = "county") %>% 
  left_join(., ms_broadband_tx, by = "county") %>% 
  left_join(., godaddy_county_tx, by = "county") %>% 
  left_join(., mlab_sept_tx, by = c("county" = "county.sept")) %>% 
  left_join(., mlab_oct_tx, by = c("county" = "county.oct")) %>% 
  left_join(., mlab_nov_tx, by = c("county" = "county.nov")) %>% 
  left_join(., mlab_dec_tx, by = c("county" = "county.dec"))

str(tx_bb_entrepreneur_merged)
```

    ## tibble [254 × 136] (S3: tbl_df/tbl/data.frame)
    ##  $ FIPS2000                        : num [1:254] 48001 48003 48005 48007 48009 ...
    ##  $ county                          : chr [1:254] "Anderson County" "Andrews County" "Angelina County" "Aransas County" ...
    ##  $ state.x                         : chr [1:254] "Texas" "Texas" "Texas" "Texas" ...
    ##  $ IRR2000                         : num [1:254] 0.5 0.56 0.48 0.5 0.57 0.63 0.52 0.52 0.59 0.54 ...
    ##  $ FIPS2010                        : num [1:254] 48001 48003 48005 48007 48009 ...
    ##  $ state.y                         : chr [1:254] "Texas" "Texas" "Texas" "Texas" ...
    ##  $ IRR2010                         : num [1:254] 0.5 0.56 0.48 0.49 0.57 0.64 0.51 0.52 0.59 0.54 ...
    ##  $ pct_change_proprietors_2000_2017: num [1:254] 0.0191 0.9181 0.3351 0.2184 0.6091 ...
    ##  $ proprietors_2000                : num [1:254] 6685 1392 8067 3393 1650 ...
    ##  $ proprietors_2017                : num [1:254] 6813 2670 10770 4134 2655 ...
    ##  $ pct_proprietors_employment_2000 : num [1:254] 0.268 0.234 0.178 0.353 0.446 ...
    ##  $ pct_proprietors_employment_2010 : num [1:254] 0.269 0.227 0.202 0.38 0.47 ...
    ##  $ pct_proprietors_employment_2017 : num [1:254] 0.243 0.259 0.224 0.384 0.557 ...
    ##  $ total_employment_2017           : num [1:254] 28073 10318 48183 10767 4766 ...
    ##  $ wage_salary_jobs_2017           : num [1:254] 21260 7648 37413 6633 2111 ...
    ##  $ pct_change_pro_emp_2000_2017    : num [1:254] -0.0256 0.0249 0.0452 0.031 0.1114 ...
    ##  $ pct_change_pro_emp_2010_2017    : num [1:254] -0.0266 0.0314 0.0211 0.0038 0.0875 -0.0156 -0.0125 0.0393 0.0346 -0.0162 ...
    ##  $ ST                              : Factor w/ 1 level "TX": 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ COUNTY.ID                       : int [1:254] 48001 48003 48005 48007 48009 48011 48013 48015 48017 48019 ...
    ##  $ COUNTY.NAME                     : Factor w/ 254 levels "Anderson County",..: 1 2 3 4 5 6 7 8 9 10 ...
    ##  $ BROADBAND.AVAILABILITY.PER.FCC  : Factor w/ 81 levels " -   "," 0.00 ",..: 37 65 66 81 69 38 75 38 56 23 ...
    ##  $ BROADBAND.USAGE                 : Factor w/ 64 levels " 0.01 "," 0.02 ",..: 12 38 26 29 24 10 12 14 9 34 ...
    ##  $ pct_broadband_FCC               : num [1:254] 0.52 0.83 0.85 1 0.88 0.53 0.94 0.53 0.74 0.34 ...
    ##  $ pct_broadband_MS                : num [1:254] 0.12 0.4 0.26 0.3 0.24 0.1 0.12 0.14 0.09 0.35 ...
    ##  $ cfips                           : int [1:254] 48001 48003 48005 48007 48009 48011 48013 48015 48017 48019 ...
    ##  $ state                           : chr [1:254] "Texas" "Texas" "Texas" "Texas" ...
    ##  $ population                      : num [1:254] 57772 17215 87657 24729 8750 ...
    ##  $ venturedensitymay18             : num [1:254] 0.516 0.511 1.011 1.622 0.457 ...
    ##  $ venturedensitynov18             : num [1:254] 1.302 1.458 2.277 3.995 0.754 ...
    ##  $ venturedensityfeb19             : num [1:254] 1.025 1.499 2.495 3.886 0.834 ...
    ##  $ venturedensitysep19             : num [1:254] 0.968 2.138 1.46 3.088 2.096 ...
    ##  $ venturedensityoct19             : num [1:254] 1.46 2.09 1.57 11.15 1.69 ...
    ##  $ venturedensitynov19             : num [1:254] 0.971 2.058 1.457 3.138 2.07 ...
    ##  $ venturedensitydec19             : num [1:254] 0.96 2.05 1.45 3.15 2.07 ...
    ##  $ highlyactive_vdmay18            : num [1:254] 0.289 0.17 0.456 0.724 0.184 ...
    ##  $ highlyactive_vdnov18            : num [1:254] 0.273 0.163 0.446 0.732 0.171 ...
    ##  $ highlyactive_vdfeb19            : num [1:254] 0.241 0.134 0.472 0.7 0.229 ...
    ##  $ highlyactive_vdsep19            : num [1:254] 0.3 0.28 0.303 0.564 0.983 ...
    ##  $ highlyactive_vdoct19            : num [1:254] 0.281 0.248 0.321 2.154 0.452 ...
    ##  $ highlyactive_vdnov19            : num [1:254] 0.297 0.296 0.297 0.578 0.956 ...
    ##  $ highlyactive_vddec19            : num [1:254] 0.29 0.312 0.296 0.59 0.952 ...
    ##  $ pctblack                        : num [1:254] 21.197 1.487 14.583 1.618 0.686 ...
    ##  $ pctnative                       : num [1:254] 0.3566 0.0871 0.1095 0.182 1.1314 ...
    ##  $ pctasian                        : num [1:254] 0.582 0.209 1.01 1.007 0.491 ...
    ##  $ pcthispanic                     : num [1:254] 16.96 54.37 21.11 26.27 8.25 ...
    ##  $ pctagriculture                  : num [1:254] 9.5 29.4 3.6 6.3 12.7 ...
    ##  $ pctconstruction                 : num [1:254] 5.1 7.5 6.5 13.4 7.1 ...
    ##  $ pctwholesale                    : num [1:254] 2.1 2.3 2.2 2.9 4 ...
    ##  $ pctretail                       : num [1:254] 18.8 7.6 13.2 13.6 13.6 ...
    ##  $ pcttransportation               : num [1:254] 5.9 8.2 4.2 3.2 5.9 ...
    ##  $ pctinformation_tech             : num [1:254] 0.8 0.5 0.6 0.6 1.1 ...
    ##  $ pctfinance                      : num [1:254] 3.4 4.6 3.8 4.5 5.2 ...
    ##  $ pctprofessional                 : num [1:254] 7.2 8 7.5 8.9 6.1 ...
    ##  $ pcteducation                    : num [1:254] 21.2 14.8 28 17.2 24.7 ...
    ##  $ pctother_occupation             : num [1:254] 3.9 3.2 5.7 7.2 4.9 ...
    ##  $ pctpublic                       : num [1:254] 11.7 1.8 4 3.6 4.5 ...
    ##  $ pctbroadband                    : num [1:254] 64.2 81.5 76 75.7 70 73.1 73.7 70.9 56.5 71.8 ...
    ##  $ pctbroadband_poorpeople         : num [1:254] 37.6 48 49.8 53.3 31 ...
    ##  $ pcthighschool                   : num [1:254] 80.2 73.8 79.9 83.2 90.1 ...
    ##  $ pctcollege                      : num [1:254] 11.8 10.6 15.7 20.2 21.8 ...
    ##  $ pctmillennial                   : num [1:254] 21.8 20.9 19.2 13.8 14.7 ...
    ##  $ pctgenx                         : num [1:254] 31.1 25.2 25.2 22.8 26.9 ...
    ##  $ pctbabyboomer                   : num [1:254] 20 15 20.3 31.2 25.2 ...
    ##  $ pctforeignborn                  : num [1:254] 6.51 13.62 8.05 5.79 2.17 ...
    ##  $ prosperityindex2016             : num [1:254] 21.9 44.3 18.2 39.8 45.5 ...
    ##  $ prosperity2007                  : num [1:254] 22.6 57.7 31.1 18.9 53.5 ...
    ##  $ change_prosperity               : num [1:254] -0.658 -13.485 -12.833 20.881 -7.929 ...
    ##  $ medinc2016                      : int [1:254] 41979 69489 41898 45101 61622 61250 51168 50748 37655 54455 ...
    ##  $ medinc2017                      : int [1:254] 42146 70121 44185 44851 62407 65000 53181 56681 40589 55434 ...
    ##  $ change_income                   : int [1:254] 167 632 2287 -250 785 3750 2013 5933 2934 979 ...
    ##  $ unemployment                    : num [1:254] 4.3 4.5 7.6 6.7 3 1.8 6.1 5.4 2.2 5.7 ...
    ##  $ net_migration                   : int [1:254] -916 -591 87 2213 -11 404 -1812 38 610 -37 ...
    ##  $ state.sept                      : Factor w/ 1 level "TX": 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ county_name.sept                : Factor w/ 247 levels "Anderson","Andrews",..: 1 2 3 4 5 6 7 8 9 10 ...
    ##  $ frac_under_25mbpsDL.sept        : num [1:254] 0.829 0.639 0.572 0.676 0.393 ...
    ##  $ samples.sept                    : int [1:254] 480 108 1188 148 61 19 284 326 25 260 ...
    ##  $ frac_under_3mbpsUL.sept         : num [1:254] 0.755 0.19 0.462 0.396 0.107 ...
    ##  $ UL_3_samples.sept               : int [1:254] 465 142 1286 212 84 18 246 423 23 262 ...
    ##  $ frac_under_10mbpsDL.sept        : num [1:254] 0.579 0.509 0.354 0.412 0.148 ...
    ##  $ DL_10_samples.sept              : int [1:254] 480 108 1188 148 61 19 284 326 25 260 ...
    ##  $ frac_under_1mbpsUL.sept         : num [1:254] 0.5419 0.0845 0.3546 0.316 0.0952 ...
    ##  $ UL_1_samples.sept               : int [1:254] 465 142 1286 212 84 18 246 423 23 262 ...
    ##  $ DLmbps.sept                     : num [1:254] 8.15 8.41 17.8 13.18 28.02 ...
    ##  $ ULmbps.sept                     : num [1:254] 0.706 24.171 3.679 7.195 19.993 ...
    ##  $ ul_sample_size.sept             : int [1:254] 47728 16286 142423 24603 12023 884 23941 25017 2549 26900 ...
    ##  $ dl_sample_size.sept             : int [1:254] 54537 20648 124024 25826 12388 669 25066 23700 2493 26832 ...
    ##  $ frac_over_25DL.sept             : num [1:254] 0.171 0.361 0.428 0.324 0.607 ...
    ##  $ frac_over_3UL.sept              : num [1:254] 0.245 0.81 0.538 0.604 0.893 ...
    ##  $ state.oct                       : Factor w/ 1 level "TX": 1 1 1 1 1 NA 1 1 1 1 ...
    ##  $ county_name.oct                 : Factor w/ 247 levels "Anderson","Andrews",..: 1 2 3 4 5 NA 6 7 8 9 ...
    ##  $ frac_under_25mbpsDL.oct         : num [1:254] 0.819 0.63 0.531 0.53 0.387 ...
    ##  $ samples.oct                     : int [1:254] 515 219 1400 287 31 NA 275 347 30 221 ...
    ##  $ frac_under_3mbpsUL.oct          : num [1:254] 0.736 0.254 0.456 0.318 0.242 ...
    ##  $ UL_3_samples.oct                : int [1:254] 497 252 1503 355 33 NA 262 395 29 211 ...
    ##  $ frac_under_10mbpsDL.oct         : num [1:254] 0.602 0.47 0.322 0.324 0.29 ...
    ##  $ DL_10_samples.oct               : int [1:254] 515 219 1400 287 31 NA 275 347 30 221 ...
    ##  $ frac_under_1mbpsUL.oct          : num [1:254] 0.584 0.147 0.31 0.186 0.212 ...
    ##  $ UL_1_samples.oct                : int [1:254] 497 252 1503 355 33 NA 262 395 29 211 ...
    ##  $ DLmbps.oct                      : num [1:254] 7.57 10.98 21.32 19.99 26.08 ...
    ##   [list output truncated]

``` r
head(tx_bb_entrepreneur_merged, 20)
```

    ## # A tibble: 20 x 136
    ##    FIPS2000 county state.x IRR2000 FIPS2010 state.y IRR2010
    ##       <dbl> <chr>  <chr>     <dbl>    <dbl> <chr>     <dbl>
    ##  1    48001 Ander… Texas     0.5      48001 Texas     0.5  
    ##  2    48003 Andre… Texas     0.56     48003 Texas     0.56 
    ##  3    48005 Angel… Texas     0.48     48005 Texas     0.48 
    ##  4    48007 Arans… Texas     0.5      48007 Texas     0.49 
    ##  5    48009 Arche… Texas     0.570    48009 Texas     0.570
    ##  6    48011 Armst… Texas     0.63     48011 Texas     0.64 
    ##  7    48013 Atasc… Texas     0.52     48013 Texas     0.51 
    ##  8    48015 Austi… Texas     0.52     48015 Texas     0.52 
    ##  9    48017 Baile… Texas     0.59     48017 Texas     0.59 
    ## 10    48019 Bande… Texas     0.54     48019 Texas     0.54 
    ## 11    48021 Bastr… Texas     0.49     48021 Texas     0.48 
    ## 12    48023 Baylo… Texas     0.6      48023 Texas     0.61 
    ## 13    48025 Bee C… Texas     0.52     48025 Texas     0.52 
    ## 14    48027 Bell … Texas     0.41     48027 Texas     0.4  
    ## 15    48029 Bexar… Texas     0.290    48029 Texas     0.26 
    ## 16    48031 Blanc… Texas     0.570    48031 Texas     0.56 
    ## 17    48033 Borde… Texas     0.68     48033 Texas     0.69 
    ## 18    48035 Bosqu… Texas     0.55     48035 Texas     0.55 
    ## 19    48037 Bowie… Texas     0.45     48037 Texas     0.46 
    ## 20    48039 Brazo… Texas     0.43     48039 Texas     0.41 
    ## # … with 129 more variables: pct_change_proprietors_2000_2017 <dbl>,
    ## #   proprietors_2000 <dbl>, proprietors_2017 <dbl>,
    ## #   pct_proprietors_employment_2000 <dbl>,
    ## #   pct_proprietors_employment_2010 <dbl>,
    ## #   pct_proprietors_employment_2017 <dbl>, total_employment_2017 <dbl>,
    ## #   wage_salary_jobs_2017 <dbl>, pct_change_pro_emp_2000_2017 <dbl>,
    ## #   pct_change_pro_emp_2010_2017 <dbl>, ST <fct>, COUNTY.ID <int>,
    ## #   COUNTY.NAME <fct>, BROADBAND.AVAILABILITY.PER.FCC <fct>,
    ## #   BROADBAND.USAGE <fct>, pct_broadband_FCC <dbl>,
    ## #   pct_broadband_MS <dbl>, cfips <int>, state <chr>, population <dbl>,
    ## #   venturedensitymay18 <dbl>, venturedensitynov18 <dbl>,
    ## #   venturedensityfeb19 <dbl>, venturedensitysep19 <dbl>,
    ## #   venturedensityoct19 <dbl>, venturedensitynov19 <dbl>,
    ## #   venturedensitydec19 <dbl>, highlyactive_vdmay18 <dbl>,
    ## #   highlyactive_vdnov18 <dbl>, highlyactive_vdfeb19 <dbl>,
    ## #   highlyactive_vdsep19 <dbl>, highlyactive_vdoct19 <dbl>,
    ## #   highlyactive_vdnov19 <dbl>, highlyactive_vddec19 <dbl>,
    ## #   pctblack <dbl>, pctnative <dbl>, pctasian <dbl>, pcthispanic <dbl>,
    ## #   pctagriculture <dbl>, pctconstruction <dbl>, pctwholesale <dbl>,
    ## #   pctretail <dbl>, pcttransportation <dbl>, pctinformation_tech <dbl>,
    ## #   pctfinance <dbl>, pctprofessional <dbl>, pcteducation <dbl>,
    ## #   pctother_occupation <dbl>, pctpublic <dbl>, pctbroadband <dbl>,
    ## #   pctbroadband_poorpeople <dbl>, pcthighschool <dbl>, pctcollege <dbl>,
    ## #   pctmillennial <dbl>, pctgenx <dbl>, pctbabyboomer <dbl>,
    ## #   pctforeignborn <dbl>, prosperityindex2016 <dbl>, prosperity2007 <dbl>,
    ## #   change_prosperity <dbl>, medinc2016 <int>, medinc2017 <int>,
    ## #   change_income <int>, unemployment <dbl>, net_migration <int>,
    ## #   state.sept <fct>, county_name.sept <fct>,
    ## #   frac_under_25mbpsDL.sept <dbl>, samples.sept <int>,
    ## #   frac_under_3mbpsUL.sept <dbl>, UL_3_samples.sept <int>,
    ## #   frac_under_10mbpsDL.sept <dbl>, DL_10_samples.sept <int>,
    ## #   frac_under_1mbpsUL.sept <dbl>, UL_1_samples.sept <int>,
    ## #   DLmbps.sept <dbl>, ULmbps.sept <dbl>, ul_sample_size.sept <int>,
    ## #   dl_sample_size.sept <int>, frac_over_25DL.sept <dbl>,
    ## #   frac_over_3UL.sept <dbl>, state.oct <fct>, county_name.oct <fct>,
    ## #   frac_under_25mbpsDL.oct <dbl>, samples.oct <int>,
    ## #   frac_under_3mbpsUL.oct <dbl>, UL_3_samples.oct <int>,
    ## #   frac_under_10mbpsDL.oct <dbl>, DL_10_samples.oct <int>,
    ## #   frac_under_1mbpsUL.oct <dbl>, UL_1_samples.oct <int>,
    ## #   DLmbps.oct <dbl>, ULmbps.oct <dbl>, ul_sample_size.oct <int>,
    ## #   dl_sample_size.oct <int>, frac_over_25DL.oct <dbl>,
    ## #   frac_over_3UL.oct <dbl>, state.nov <fct>, county_name.nov <fct>,
    ## #   frac_under_25mbpsDL.nov <dbl>, …

``` r
## Export the dataset into csv

write_csv(tx_bb_entrepreneur_merged, "Broadband-Entrepreneurship-TX-merged.csv")
```
